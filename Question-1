
// Question 1.

mysql> create database DuLibrary;
mysql> use DuLibrary;
mysql> create table LibraryBooks(
    -> AccessionNumber decimal(10,5) primary key,
    -> Title varchar(30) not null,
    -> Author varchar(50) not null,
    -> Department varchar(50) not null,
    -> PurchaseDate date not null,
    -> Price decimal(7,2) not null);

mysql> Create table IssuedBooks(
    -> AccessionNumber decimal(10,5) not null,
    -> Borrower Varchar(30) not null
    -> foreign key (AccessionNumber) references LibraryBooks(AccessionNumber));

//(a)Primary Key- AccessionNumber in table LibraryBooks
//   Foreign Key- AccessionNumber in table IssuedBooks
mysql> insert into LibraryBooks values(51235.56,"Introduction to Matrices","S.C. Gupta","Statistics",'1997-01-12',105.00);
mysql> insert into LibraryBooks values(21826.46,"Database System Concepts","Sumitra Arora","CS",'2003/05/30',620.00);
mysql> insert into LibraryBooks values(121.4345,"Fundamental of Statistics","V.K. Kapoor","Statistics",'2002/03/31',550.00);
mysql> insert into LibraryBooks values(76389.4647,"Play with Python","Navathe","CS",'2002/06/21',499.00);
mysql> insert into LibraryBooks values(6737.84,"Discrete Maths","M.L.Aggrawal","Mathematics",'1999/08/04',450.00);

mysql> insert into IssuedBooks values( 21826.46,"Vinay Kumar Singh");
mysql> insert into IssuedBooks values( 121.4345,"Vasav Choudhary");
mysql> insert into IssuedBooks values( 6737.84,"Utkarsh mathur");
mysql> insert into IssuedBooks values( 21826.46,"Aryan raghuvanshi");
mysql> insert into IssuedBooks values( 76389.4647,"Jatin Choubey");

(b) mysql> set foreign_key_checks=Off;
    mysql> delete from Librarybooks where AccessionNumber=21826.46;
    mysql> delete from Librarybooks where title="Database System Concepts";
    mysql> set foreign_key_checks=on;

(c) mysql> update LibraryBooks set department="CS" where title="Discrete Maths";

(d) mysql> select Title from LibraryBooks where department="CS";

(e) mysql> select Title from LibraryBooks where department="CS" and Author="navathe";

(f) mysql> select Title from LibraryBooks L, IssuedBooks I where L.AccessionNumber=I.AccessionNumber and L.Department="CS";

(g) mysql> select Title from LibraryBooks where Price<500 and PurchaseDate between '1999/01/01' and '2004/01/01';


// Question 2.

mysql> create database Student;
mysql> use Student;
mysql> create table StudentPersonalInfo(
    -> Roll_no int primary key,
    -> Name varchar(30),
    -> DOB date not null,
    -> Address varchar(60),
    -> Marks_in_12th int not null,
    -> Phone_number varchar(10) not null);

mysql> create table Paper_Details(
    -> Paper_Code int primary key,
    -> NameofPaper varchar(30));

mysql> create table Academic_Details(
    -> Roll_no int primary key,
    -> Paper_code int not null,
    -> Attendence int not null,
    -> Marks int not null,
    -> foreign key(Roll_no) references StudentPersonalInfo(Roll_no),
    -> foreign key(Paper_code) references Paper_details(Paper_code));

 // (a) Primary key - Roll_no in table personal_informartion
//                                Paper_code in table Paper_details
//        Foreign key - Roll_no in table Academic_Details
//                                Paper_code in table Academic_Details 

mysql> insert into StudentPersonalInfo values(1240,"Vinay Kumar Singh",'2001-01-04',"UP",91,9102829875);
mysql> insert into StudentPersonalInfo values(1233,"Rohit Tiwari",'2001-04-29',"Uttarakhand",89,9748483743);
mysql> insert into StudentPersonalInfo values(1204,"Ankit",'2000-03-19',"Delhi",94,9837643368);
mysql> insert into StudentPersonalInfo values(1225,"Mohammad Mujtaba",'2001-09-21',"Uttar Pradesh",97,9637453672);
mysql> insert into StudentPersonalInfo values(1223,"Likhit Giri",'2001-11-09',"Delhi",92,9764563726);

mysql> insert into paper_details value(1,"Descriptive Statistics");
mysql> insert into paper_details value(2,"Environmental Studies");
mysql> insert into paper_details value(3,"Algebra");
mysql> insert into paper_details value(4,"Introduction to Matrices");
mysql> insert into paper_details value(5,"Database management system");

mysql> insert into Academic_details values(1240,2,80,70);
mysql> insert into Academic_details values(1233,2,70,90);
mysql> insert into Academic_details values(1204,2,65,91);
mysql> insert into Academic_details values(1225,2,65,91);
mysql> insert into Academic_details values(1223,1,75,65);

(b) mysql> select pd.paper_code, pd.nameofpaper, pi.name from paper_details as pd, personal_informartion as pi where paper_code=2 and pi.roll_no in(select roll_no from academic_details where paper_code=2 and attendence>75 and marks>60);

(c) mysql> select name from StudentPersonalInfo as pi, academic_details as ad where pi.roll_no=ad.roll_no and ad.marks>60 and ad.paper_code=1;

(d) mysql> select pi.name, ad.attendence, ad.marks from StudentPersonalInfo as pi, academic_details as ad where pi.roll_no=ad.roll_no;

(e) mysql> select name from SudentPersonalInfo as pi, academic_details as ad where pi.roll_no=ad.roll_no and pi.roll_no=(select roll_no from academic_details where marks=(select max(marks) from academic_details));

--------------------------------------------
